<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Class of 2026 Countdown</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <style>
    body {
      font-family: 'Roboto', sans-serif;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
      transition: background 0.5s, color 0.5s;
      background-color: #121212;
      color: #eee;
      flex-direction: column;
      padding: 1rem;
    }
    .card {
      padding: 2rem;
      border-radius: 12px;
      max-width: 550px;
      text-align: center;
      background: #1e1e1e;
      box-shadow: 0 8px 20px rgba(0,0,0,0.6);
      width: 100%;
      max-width: 600px;
      position: relative;
    }
    .time {
      font-size: 2.8rem;
      font-weight: 700;
      color: #90caf9;
      transition: color 0.5s;
    }
    .quip {
      font-size: 1.3rem;
      margin-top: 1rem;
      font-style: italic;
      opacity: 1;
      transition: opacity 0.8s ease;
      min-height: 40px;
    }
    .progress-container {
      margin-top: 2rem;
      text-align: left;
    }
    .progress-label {
      font-weight: bold;
      margin-bottom: 0.5rem;
      color: #90caf9;
      transition: color 0.5s;
    }
    .progress {
      background-color: #333;
      border-radius: 20px;
      overflow: hidden;
      height: 20px;
    }
    .determinate {
      background-color: #42a5f5;
      height: 100%;
      width: 0;
      transition: width 1.5s ease-out;
    }
    /* Day theme overrides */
    body.day-theme {
      background-color: #f5f5f5;
      color: #333;
    }
    body.day-theme .card {
      background: white;
      box-shadow: 0 8px 20px rgba(0,0,0,0.2);
    }
    body.day-theme .time {
      color: #1976d2;
    }
    body.day-theme .progress-label {
      color: #1976d2;
    }
    body.day-theme .progress {
      background-color: #eee;
    }
    body.day-theme .determinate {
      background-color: #1976d2;
    }
    /* Dark theme overrides (re-assert just in case) */
    body.night-theme {
      background-color: #121212;
      color: #eee;
    }
    body.night-theme .card {
      background: #1e1e1e;
    }
    body.night-theme .time {
      color: #90caf9;
    }
    body.night-theme .progress-label {
      color: #90caf9;
    }
    body.night-theme .progress {
      background-color: #333;
    }
    body.night-theme .determinate {
      background-color: #42a5f5;
    }

    /* Theme toggle button */
    #theme-toggle {
      margin-top: 15px;
      padding: 8px 18px;
      font-size: 1rem;
      border: none;
      border-radius: 25px;
      background-color: #42a5f5;
      color: white;
      cursor: pointer;
      box-shadow: 0 4px 10px rgba(66,165,245,0.5);
      transition: background-color 0.3s ease;
    }
    #theme-toggle:hover {
      background-color: #1e88e5;
    }

    /* Motivational quote */
    #daily-quote {
      margin-top: 20px;
      font-style: normal;
      font-weight: 600;
      font-size: 1.1rem;
      max-width: 600px;
      text-align: center;
      color: #fbc02d;
      text-shadow: 0 0 8px rgba(251, 192, 45, 0.7);
      min-height: 44px;
      transition: opacity 0.8s ease;
    }
  </style>
</head>
<body class="night-theme">
  <div class="card z-depth-3">
    <h4>Countdown to Class of 2026 Graduation</h4>
    <div class="time" id="countdown">Loading...</div>
    <div class="quip" id="quip">Getting ready for the tassel flip...</div>

    <!-- Progress Bar -->
    <div class="progress-container">
      <div class="progress-label" id="progress-percent">0% complete</div>
      <div class="progress">
        <div class="determinate" id="progress-bar" style="width: 0%"></div>
      </div>
    </div>
  </div>

  <button id="theme-toggle" aria-label="Toggle Dark/Light Theme">Toggle Theme</button>

  <div id="daily-quote" aria-live="polite"></div>

  <script>
    const graduationDate = new Date("2026-05-29T10:00:00");

    const quips = [
      "Getting ready for the tassel flip...",
      "Senioritis loading in 3... 2... 1...",
      "College apps and coffee, anyone?",
      "Remember when 2026 felt forever away?",
      "Almost time to toss that cap!",
      "Is it too early to cry happy tears?",
      "Caps, gowns, and goodbyes coming soon.",
      "You've got this, Class of '26!",
      "Keep grindingâ€”freedom's near!",
      "Make it countâ€”these are the last laps!"
    ];

    // Motivational quotes array (one for each day, can add more)
    const motivationalQuotes = [
      "Believe you can and you're halfway there.",
      "Every accomplishment starts with the decision to try.",
      "Don't watch the clock; do what it does. Keep going.",
      "Success is the sum of small efforts repeated day in and day out.",
      "Dream big. Work hard. Stay focused.",
      "The future belongs to those who believe in the beauty of their dreams.",
      "Push yourself, because no one else is going to do it for you.",
      "Mistakes are proof that you are trying.",
      "Success doesnâ€™t come from what you do occasionally, it comes from what you do consistently.",
      "Your limitationâ€”itâ€™s only your imagination."
    ];

    let quipIndex = 0;
    let hasCelebrated = false;
    let manualTheme = null; // null means auto, 'day' or 'night' means manual

    function updateCountdown() {
      const now = new Date();
      const totalSeconds = Math.floor((graduationDate - now) / 1000);

      const days = Math.floor(totalSeconds / (3600 * 24));
      const hours = Math.floor((totalSeconds % (3600 * 24)) / 3600);
      const minutes = Math.floor((totalSeconds % 3600) / 60);
      const seconds = totalSeconds % 60;

      const countdownEl = document.getElementById('countdown');
      if (totalSeconds > 0) {
        countdownEl.textContent = `${days}d ${hours}h ${minutes}m ${seconds}s`;
      } else {
        countdownEl.textContent = "ðŸŽ“ Congratulations, Class of 2026!";
        if (!hasCelebrated) {
          confetti({ particleCount: 300, spread: 120 });
          hasCelebrated = true;
        }
      }

      updateProgressBar(now);
    }

    function updateProgressBar(currentDate) {
      const startDate = new Date("2022-07-28");
      const totalDuration = graduationDate - startDate;
      const timeElapsed = currentDate - startDate;
      const progressPercent = Math.min(100, Math.max(0, (timeElapsed / totalDuration) * 100));
      const progressBar = document.getElementById('progress-bar');
      progressBar.style.width = progressPercent.toFixed(2) + "%";
      document.getElementById('progress-percent').textContent = progressPercent.toFixed(1) + "% complete";
    }

    function fadeQuip() {
      const quipEl = document.getElementById('quip');
      quipEl.style.opacity = 0;
      setTimeout(() => {
        quipEl.textContent = quips[quipIndex];
        quipEl.style.opacity = 1;
        quipIndex = (quipIndex + 1) % quips.length;
      }, 800);
    }

    function updateDailyQuote() {
      // Pick quote based on day of year (0-9 cycle)
      const now = new Date();
      const startOfYear = new Date(now.getFullYear(), 0, 0);
      const diff = now - startOfYear;
      const oneDay = 1000 * 60 * 60 * 24;
      const dayOfYear = Math.floor(diff / oneDay);
      const quote = motivationalQuotes[dayOfYear % motivationalQuotes.length];

      const quoteEl = document.getElementById('daily-quote');
      quoteEl.style.opacity = 0;
      setTimeout(() => {
        quoteEl.textContent = `"${quote}"`;
        quoteEl