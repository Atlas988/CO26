<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Class of 2026</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Roboto&display=swap');
    body {
      margin: 0;
      font-family: 'Roboto', sans-serif;
      background-color: #121212;
      color: #e0e0e0;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      transition: background-color 0.3s, color 0.3s;
    }
    .card {
      background-color: #1e1e1e;
      border-radius: 12px;
      padding: 2rem;
      box-shadow: 0 4px 20px rgba(0,0,0,0.5);
      text-align: center;
      max-width: 400px;
      width: 100%;
    }
    h1 {
      margin-top: 0;
    }
    .countdown {
      font-size: 1.8rem;
      margin: 0.5em 0;
    }
    .quips {
      font-style: italic;
      margin: 0.5em 0 1em;
      color: yellow;
      min-height: 1.8em;
    }
    progress {
      width: 100%;
      height: 20px;
      border-radius: 10px;
      appearance: none;
      background-color: #333;
    }
    progress::-webkit-progress-value {
      background-color: #64b5f6;
      border-radius: 10px;
    }
    progress::-webkit-progress-bar {
      background-color: #333;
      border-radius: 10px;
    }
    progress::-moz-progress-bar {
      background-color: #64b5f6;
    }
    .percent {
      margin-top: 0.3em;
      font-weight: bold;
    }
    .theme-toggle {
      position: fixed;
      bottom: 1rem;
      left: 1rem;
      background: none;
      border: none;
      font-size: 1.5rem;
      color: inherit;
      cursor: pointer;
      transition: color 0.3s;
    }
    body.light {
      background-color: #f5f5f5;
      color: #212121;
    }
    body.light .card {
      background-color: #ffffff;
      color: #212121;
    }
    body.light .quips {
      color: #ff9800;
    }
    body.light progress::-webkit-progress-value {
      background-color: #1976d2;
    }
    body.light progress::-moz-progress-bar {
      background-color: #1976d2;
    }
  </style>
</head>
<body>
  <button id="toggleThemeBtn" class="theme-toggle">
    <i class="fas fa-moon"></i>
  </button>

  <div class="card">
    <h1>Class of 2026</h1>
    <div class="countdown" id="countdown">Loading...</div>
    <progress id="progressBar" value="0" max="100"></progress>
    <div class="percent" id="percentDisplay">0%</div>
    <div class="quips" id="quips">Almost there!</div>
  </div>

  <script>
    const countdownEl = document.getElementById('countdown');
    const progressBar = document.getElementById('progressBar');
    const quipsEl = document.getElementById('quips');
    const percentDisplay = document.getElementById('percentDisplay');
    const toggleThemeBtn = document.getElementById('toggleThemeBtn');
    const icon = toggleThemeBtn.querySelector('i');
    const quips = [
      "Getting ready for the tassel flip...",
      "Senioritis loading...",
      "Almost time to toss that cap!",
      "Caps, gowns, and goodbyes coming soon.",
      "You've got this, Class of '26!",
      "Keep grindingâ€”freedom's near!",
      "Make it countâ€”these are the last laps!",
      "Final countdown: make it legendary!",
      "One step closer to the stage!",
      "Keep calm and graduate on.",
      "One cap, one gown, one epic day.",
      "Dream it. Believe it. Achieve it.",
      "The tasselâ€™s worth the hassle!",
      "Stay focused, stay fierce.",
      "Schoolâ€™s last call: answer proudly.",
      "Class of 2026, the futureâ€™s finest.",
      "Let your dreams take flight.",
      "Keep the hustle alive till the end.",
      "Almost time to fly free!"
    ];

    const gradDate = new Date(2026, 4, 29);
    const schoolStart = new Date(2025, 6, 28);
    let lastMinute = -1;
    let hasGraduated = false;

    function pad(n) {
      return n.toString().padStart(2, '0');
    }

    function showQuip() {
      const index = Math.floor(Math.random() * quips.length);
      quipsEl.textContent = quips[index];
    }

    function confettiExplosion(particleCount = 150, duration = 2000) {
      const end = Date.now() + duration;
      const canvas = document.createElement('canvas');
      canvas.style.position = 'fixed';
      canvas.style.top = 0;
      canvas.style.left = 0;
      canvas.style.width = '100%';
      canvas.style.height = '100%';
      canvas.style.pointerEvents = 'none';
      canvas.style.zIndex = 9999;
      document.body.appendChild(canvas);

      const ctx = canvas.getContext('2d');
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;

      class Particle {
        constructor() {
          this.x = Math.random() * canvas.width;
          this.y = Math.random() * canvas.height - canvas.height;
          this.r = Math.random() * 6 + 4;
          this.color = `hsl(${Math.random() * 360}, 100%, 60%)`;
          this.tilt = Math.random() * 10 - 10;
          this.speed = Math.random() * 3 + 2;
        }
        update() {
          this.y += this.speed;
        }
        draw() {
          ctx.beginPath();
          ctx.fillStyle = this.color;
          ctx.arc(this.x, this.y, this.r, 0, 2 * Math.PI);
          ctx.fill();
        }
      }

      const particles = Array.from({ length: particleCount }, () => new Particle());

      function animate() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        particles.forEach(p => {
          p.update();
          p.draw();
        });
        if (Date.now() < end) {
          requestAnimationFrame(animate);
        } else {
          document.body.removeChild(canvas);
        }
      }

      animate();
    }

    function update() {
      const now = new Date();
      let diff = gradDate - now;

      if (diff <= 0) {
        countdownEl.textContent = "ðŸŽ“ Congratulations, Class of 2026!";
        progressBar.value = 100;
        percentDisplay.textContent = "100% completed";
        quipsEl.textContent = "ðŸŽ‰ You did it! Now go change the world!";
        if (!hasGraduated) {
          confettiExplosion(400, 6000);
          hasGraduated = true;
        }
        return;
      }

      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      diff -= days * (1000 * 60 * 60 * 24);
      const hours = Math.floor(diff / (1000 * 60 * 60));
      diff -= hours * (1000 * 60 * 60);
      const minutes = Math.floor(diff / (1000 * 60));
      diff -= minutes * (1000 * 60);
      const seconds = Math.floor(diff / 1000);

      countdownEl.textContent = `${days}d ${pad(hours)}h ${pad(minutes)}m ${pad(seconds)}s`;

      const totalDuration = gradDate - schoolStart;
      const elapsed = now - schoolStart;
      let percent = (elapsed / totalDuration) * 100;
      percent = Math.min(Math.max(percent, 0), 100);
      progressBar.value = percent.toFixed(1);
      percentDisplay.textContent = `${percent.toFixed(1)}% completed`;

      if (minutes !== lastMinute) {
        confettiExplosion();
        lastMinute = minutes;
      }
    }

    function setTheme(dark) {
      if (dark) {
        document.body.classList.remove('light');
        icon.classList.replace('fa-sun', 'fa-moon');
      } else {
        document.body.classList.add('light');
        icon.classList.replace('fa-moon', 'fa-sun');
      }
      localStorage.setItem('darkTheme', dark ? 'true' : 'false');
    }

    toggleThemeBtn.addEventListener('click', () => {
      const isDark = !document.body.classList.contains('light');
      setTheme(!isDark);
    });

    const savedTheme = localStorage.getItem('darkTheme');
    if (savedTheme === 'false') {
      setTheme(false);
    } else {
      setTheme(true);
    }

    showQuip();
    setInterval(update, 1000);
    setInterval(showQuip, 6000);
  </script>
</body>
</html>