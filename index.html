<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Class of 2026</title>
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Roboto&display=swap');
    html, body {
      margin: 0;
      font-family: 'Roboto', sans-serif;
      background-color: #121212;
      color: #e0e0e0;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background-color 0.3s, color 0.3s;
    }
    .card {
      background: #1e1e1e;
      padding: 2rem;
      border-radius: 20px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
      text-align: center;
      max-width: 90%;
      width: 400px;
    }
    h1 {
      margin-top: 0;
    }
    .countdown {
      font-size: 1.8rem;
      margin: 0.5em 0;
      min-height: 2.5rem;
    }
    .quips {
      font-style: italic;
      color: yellow;
      margin: 0.5em 0 1.5em;
      min-height: 2.2rem;
    }
    progress {
      width: 100%;
      height: 20px;
      border-radius: 10px;
      appearance: none;
      background-color: #333;
    }
    progress::-webkit-progress-bar {
      background-color: #333;
    }
    progress::-webkit-progress-value {
      background-color: #64b5f6;
      border-radius: 10px;
    }
    progress::-moz-progress-bar {
      background-color: #64b5f6;
      border-radius: 10px;
    }
    .theme-toggle {
      position: fixed;
      bottom: 1rem;
      left: 1rem;
      background: none;
      border: none;
      color: #e0e0e0;
      font-size: 1.5rem;
      cursor: pointer;
      transition: color 0.3s;
    }
    body.light {
      background-color: #f5f5f5;
      color: #202020;
    }
    body.light .card {
      background: white;
    }
    body.light .quips {
      color: #ff9800;
    }
    body.light progress::-webkit-progress-value {
      background-color: #1976d2;
    }
    .confetti-piece {
      position: fixed;
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: red;
      pointer-events: none;
      opacity: 1;
      animation: fall 4s linear forwards;
    }
    @keyframes fall {
      0% { transform: translateY(0); opacity: 1; }
      90% { opacity: 1; }
      100% { transform: translateY(100vh); opacity: 0; }
    }
  </style>
</head>
<body>
  <div class="card">
    <h1>Class of 2026</h1>
    <div class="countdown" id="countdown">Loading...</div>
    <progress id="progressBar" value="0" max="100"></progress>
    <div class="quips" id="quips">...</div>
  </div>
  <button class="theme-toggle" id="toggleThemeBtn"><i class="fas fa-moon"></i></button>

  <script>
    const countdownEl = document.getElementById('countdown');
    const progressBar = document.getElementById('progressBar');
    const quipsEl = document.getElementById('quips');
    const toggleThemeBtn = document.getElementById('toggleThemeBtn');

    const gradDate = new Date(2026, 4, 29);
    const schoolStart = new Date(2025, 6, 28); // July 28, 2025
    const summerEnd = new Date(2025, 6, 28); // Summer ends July 28, 2025
    const summerStart = new Date(); // today

    const quips = [
      "Almost time to toss that cap!",
      "Senioritis loading...",
      "Keep grindingâ€”freedomâ€™s near!",
      "One cap, one gown, one epic day.",
      "Chasing dreams and deadlines.",
      "Turn those late nights into diplomas.",
      "Books today, success tomorrow.",
      "Class of '26: legends in the making.",
      "Caps, gowns, and goodbyes!",
      "Late nights, early success.",
      "Stay fierce. Stay focused.",
      "Make this year legendary!",
      "Every second counts!",
      "This is your momentâ€”own it.",
      "Hustle now, shine later.",
    ];

    function pad(n) {
      return n.toString().padStart(2, '0');
    }

    function updateCountdown() {
      const now = new Date();
      let target, label;
      let showGrad = now >= summerEnd;

      if (!showGrad) {
        target = summerEnd;
        label = "Summer Break: ";
      } else {
        target = gradDate;
        label = "";
      }

      let diff = target - now;
      if (diff <= 0) {
        countdownEl.textContent = showGrad ? "ðŸŽ“ Congratulations Class of 2026!" : "School starts now!";
        progressBar.value = 100;
        triggerExplosion(); // final
        return;
      }

      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      diff -= days * 86400000;
      const hours = Math.floor(diff / 3600000);
      diff -= hours * 3600000;
      const minutes = Math.floor(diff / 60000);
      diff -= minutes * 60000;
      const seconds = Math.floor(diff / 1000);

      countdownEl.textContent = `${label}${days}d ${pad(hours)}h ${pad(minutes)}m ${pad(seconds)}s`;

      // Progress %
      let total = showGrad ? gradDate - schoolStart : summerEnd - summerStart;
      let elapsed = showGrad ? now - schoolStart : now - summerStart;
      let percent = Math.min(100, Math.max(0, (elapsed / total) * 100));
      progressBar.value = percent;

      if (Math.floor(seconds) === 0) {
        triggerConfetti();
      }
    }

    function triggerConfetti() {
      for (let i = 0; i < 50; i++) {
        const div = document.createElement('div');
        div.className = 'confetti-piece';
        div.style.left = `${Math.random() * 100}vw`;
        div.style.background = `hsl(${Math.random() * 360}, 100%, 60%)`;
        div.style.animationDelay = `${Math.random()}s`;
        document.body.appendChild(div);
        setTimeout(() => div.remove(), 5000);
      }
    }

    function triggerExplosion() {
      for (let i = 0; i < 300; i++) {
        const div = document.createElement('div');
        div.className = 'confetti-piece';
        div.style.left = `${Math.random() * 100}vw`;
        div.style.background = `hsl(${Math.random() * 360}, 100%, 60%)`;
        div.style.animationDelay = `${Math.random() * 0.5}s`;
        document.body.appendChild(div);
        setTimeout(() => div.remove(), 5000);
      }
    }

    function showQuip() {
      quipsEl.textContent = quips[Math.floor(Math.random() * quips.length)];
    }

    function setTheme(dark) {
      document.body.classList.toggle('light', !dark);
      toggleThemeBtn.innerHTML = dark ? '<i class="fas fa-moon"></i>' : '<i class="fas fa-sun"></i>';
      localStorage.setItem('darkTheme', dark ? 'true' : 'false');
    }

    toggleThemeBtn.addEventListener('click', () => {
      const dark = !document.body.classList.contains('light');
      setTheme(!dark);
    });

    const savedTheme = localStorage.getItem('darkTheme');
    setTheme(savedTheme !== 'false');

    updateCountdown();
    showQuip();
    setInterval(updateCountdown, 1000);
    setInterval(showQuip, 6000);
  </script>
</body>
</html>